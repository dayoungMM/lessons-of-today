# í¬í„¸ ë©”ì¸ íŽ˜ì´ì§€ê°€ ë†’ì€ íŠ¸ëž˜í”½ì„ ê²¬ë””ëŠ” ë°©ë²•

## ì¼ë°˜ì ì¸ ë¶„ì‚° ì²˜ë¦¬ ëª¨ë¸ì˜ í•œê³„

### ë¡œë“œë°¸ëŸ°ì„œë¡œ êµ¬ì„±í•œ ì¼ë°˜ì ì¸ 3ê³„ì¸µ(3-Tier)ë¶„ì‚°ì²˜ë¦¬ ëª¨ë¸


- ë¡œë“œë°¸ëŸ°ì„œê°€ íŠ¸ëž˜í”½ì„ ë¶„ì‚°í•´ì„œ ì›¹ì„œë²„ì— ìš”ì²­
- ë¡œë“œë°¸ëŸ°ì„œì˜ failureë¥¼ ëŒ€ë¹„í•´ `ë‹¤ì¤‘í™”` í•˜ê³ , `DNS ë¼ìš´ë“œë¡œë¹ˆ`(ìˆœì°¨ì ìœ¼ë¡œ í• ë‹¹. ìžë™ì ìœ¼ë¡œ ì‹œê°„ì— ë”°ë¼ ìŠ¤ì¼€ì¤„ë§) ë˜ëŠ” `ê°€ì¤‘ì¹˜ íŽ¸ì„± ë°©ì‹` ë“±ìœ¼ë¡œ ë³´ì™„

### í•œê³„

- `WAS`ì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ë‹¤ì¤‘í™”ë¡œ í•´ê²°í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°
    - WASì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ì›¹ì„œë²„ê°€ ë‹¤ë¥¸ WASë¥¼ ì°¾ë„ë¡ í•´ì•¼í•œë‹¤
    - ì‚¬ìš©ìžê°€ ë¡œê·¸ì¸í•œ ìƒíƒœë¼ë©´ WASì— ì„¸ì…˜ í´ëŸ¬ìŠ¤í„°ë§ì„ ì„¤ì •í•´ì•¼í•œë‹¤ â†’ ì¶”ê°€ ì„¸íŒ…ìž‘ì—… í•„ìš”, ê´€ë¦¬ì§€ì  ì¦ê°€
- `DB`ì— ë¬¸ì œìƒê²¼ì„ ë•Œ ë‹¤ì¤‘í™”ë¡œ í•´ê²°í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°
    - ë°ì´í„° ë™ê¸°í™” ë“±ìœ¼ë¡œ ì¸í•´ DB ë‹¤ì¤‘í™” ì–´ë ¤ì›€
    - ì‚¬ìš©í•˜ëŠ” ë°ì´í„° ë² ì´ìŠ¤ê°€ RDBë¼ë©´ ë‹¤ì¤‘í™” ë° ë°ì´í„° ë¶„ì‚°ì²˜ë¦¬ ì–´ë ¤ì›€
    - ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ê°€ NoSQLì´ë¼ê³  í•˜ë”ë¼ë„ ë‹¤ì¤‘í™”+ë¶„ì‚°ì²˜ë¦¬ í•˜ë©´ ì •í•©ì„±, ë™ê¸°í™”, ìž¥ì• ë³µêµ¬ ì‹œ ë‹¤ìˆ˜ê²°ì— ì˜í•œ ë°ì´í„° ì˜¤ì—¼ ê°€ëŠ¥ì„± ë“±ì„ ê³ ë ¤í•´ì•¼ í•¨


## ë„¤ì´ë²„ ë©”ì¸íŽ˜ì´ì§€ì˜ ë¶„ì‚° ì²˜ë¦¬ ëª¨ë¸

### íŠ¹ì§• ë° ìš”êµ¬ì‚¬í•­

- ëŒ€ë¶€ë¶„ì´ ë°ì´í„° Read ë™ìž‘ì´ë‹¤.
    - ë°ì´í„°ë¥¼ saveí•˜ëŠ” ë™ìž‘ì´ ê±°ì˜ ì—†ê¸° ë•Œë¬¸ì— ë¶„ì‚°ì²˜ë¦¬ë‚˜ ë‹¤ì¤‘í™”ì—ì„œ íŠ¸ëžœìž­ì…˜ì„ ê³ ë ¤í•  í•„ìš”ê°€ ì—†ë‹¤.
- ì–´ë–¤ ì„œë²„ë¡œ ì ‘ì†í•´ë„ ë™ì¼í•œ ë‚´ìš©. (ì¼ê´€ì„±, ë¡œê·¸ì¸ ë¶ˆí•„ìš”)
- ë¬´ìŠ¨ì¼ì´ ìžˆë”ë¼ë„ ì‚¬ìš©ìžì—ê²Œ ì„œë¹„ìŠ¤ ì œê³µ (ë¹ˆíŽ˜ì´ì§€ X, ê³ ê°€ìš©ì„±)
- íŠ¸ëž˜í”½ ì¦ê°€ì— íƒ„ë ¥ì  ëŒ€ì²˜ (scale out í•˜ë©´ì„œ ë™ì‹œì— ì›¹ì„œë²„ ë° WAS íš¨ìœ¨ì„± ê·¹ëŒ€í™” ê°€ëŠ¥í•˜ë„ë¡)

### ì‚¬ìš© ê¸°ìˆ 

1. GCDN(Global CDN)
2. SSI(Server Side Includes)
3. Apache ì»¤ìŠ¤í…€ ëª¨ë“ˆ
4. ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤
    1. ì„œí‚· ë¸Œë ˆì´ì»¤(Circuit breaker)
    2. ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬(Service Discovery)

### GCDN

- ê°œë…
    - ë©”ì¸ íŽ˜ì´ì§€ì˜ Viewì™€ ê´€ë ¨ëœ ì†ŒìŠ¤ë¥¼ CDN ìºì‹± ìž¥ë¹„ì— ì €ìž¥í•´ë†“ê³ , í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì‹œ ë°”ë¡œ ì‘ë‹µ (ì›¹ì„œë²„ê¹Œì§€ íŠ¸ëž˜í”½ ê°€ì§€ ì•Šì•„ ë¹ ë¦„)
- ì™œ ì‚¬ìš©í–ˆì„ê¹Œ? ðŸ˜®
    - ì§€ë¦¬, ë¬¼ë¦¬ì ìœ¼ë¡œ ë–¨ì–´ì ¸ ìžˆëŠ” ì‚¬ìš©ìžì—ê²Œ ì»¨í…ì¸ ë¥¼ ë” ë¹ ë¥´ê²Œ ì œê³µ
    - ëŠë¦° ì‘ë‹µì†ë„.  ë‹¤ìš´ë¡œë”© íƒ€ìž„ì„ ê·¹ë³µ
    - GSLB(Global Server Load Balaner) ê¸°ëŠ¥ì„ í†µí•´ ì ‘ì†í•œ IP ì£¼ì†Œì—ì„œ ê°€ìž¥ ê°€ê¹Œìš´ CDN ì„œë²„ë¡œ ìžë™ìœ¼ë¡œ ì—°ê²°í•˜ê¸° ë•Œë¬¸ì— ë¹ ë¥´ê²Œ ì„œë¹„ìŠ¤í•  ìˆ˜ ìžˆìŒ
- ìž‘ë™
    - ìµœì´ˆ ìš”ì²­ì€ ì„œë²„ë¡œ ë¶€í„° ì»¨í…ì¸ ë¥¼ ê°€ì ¸ì™€ ê³ ê°ì—ê²Œ ì „ì†¡í•˜ë©° ë™ì‹œì— CDN ìºì‹± ìž¥ë¹„ì— ì €ìž¥
    - ë‘ë²ˆì§¸ ìš”ì²­ë¶€í„°ëŠ” CDN ì—…ì²´ì—ì„œ ì§€ì •í•˜ëŠ” ì»¨í…ì¸  ë§Œë£Œ ì‹œì ê¹Œì§€ CDN ìºì‹± ìž¥ë¹„ì— ì €ìž¥ëœ ì»¨í…ì¸ ë¥¼ ì „ì†¡
    - ìžì£¼ ì‚¬ìš©í•˜ëŠ” ë©”ì¸ íŽ˜ì´ì§€ì— í•œí•´ CDN ìž¥ë¹„ì—ì„œ ìºì‹±ë¨
    - ì„œë²„ê°€ íŒŒì¼ì„ ì°¾ëŠ”ë° ì‹¤íŒ¨í•˜ëŠ” ê²½ìš° CDN í”Œëž«í¼ì˜ ë‹¤ë¥¸ ì„œë²„ì—ì„œ ì»¨í…ì¸ ë¥¼ ì°¾ì•„ ì—”ë“œìœ ì €ì—ê²Œ ì‘ë‹µ ì „ì†¡
    - ì»¨í…ì¸ ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê±°ë‚˜ ì»¨í…ì¸ ê°€ ì˜¤ëž˜ëœ ê²½ìš° CDNì€ ì„œë²„ì— ëŒ€í•œ ìš”ì²­ì„ í”„ë¡ì‹œë¡œ ìž‘ë™í•˜ì—¬ í–¥í›„ ìš”ì²­ì— ëŒ€í•´ ì‘ë‹µí•  ìˆ˜ ìžˆë„ë¡ ìƒˆë¡œìš´ ì»¨í…ì¸  ì €ìž¥


### SSI

- ê°œë…
    - ì›¹ì„œë²„(Apache, NginX ë“±)ì—ì„œ ì§€ì›í•˜ëŠ” ì„œë²„ì‚¬ì´ë“œ ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´.
    - ì„œë²„ì— ìžˆëŠ” íŠ¹ì • íŒŒì¼ì„ ì½ì–´ì˜¤ê±°ë‚˜ íŠ¹ì • ì¿ í‚¤ ìœ ë¬´ì˜ íŒë³„ ë“± ê°„ë‹¨í•œ ê¸°ëŠ¥ ê°€ëŠ¥
- ì™œ ì‚¬ìš©í–ˆì„ê¹Œ? ðŸ˜®
    - WASì˜ í• ì¼ì˜ ì¼ë¶€ë¥¼ SSIê°€ ì²˜ë¦¬í•˜ì—¬ WASì˜ ë¶€ë‹´ì„ ì¤„ìž„

### Apache ì»¤ìŠ¤í…€ ëª¨ë“ˆ

- ì»¤ìŠ¤í…€ì´ëž€ ë¬´ìŠ¨ì˜ë¯¸?
    - Apache HTTP ì„œë²„ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šê³  APR(Apache Portable Runtime) ê¸°ë°˜ì˜ ì»¤ìŠ¤í…€ ëª¨ë“ˆë¡œ í™•ìž¥í•´ì„œ ì‚¬ìš©
- APR(Apache Portable Runtime)
    - í”„ë ˆìž„ì›Œí¬ì™€ ë¹„ìŠ·í•˜ê²Œ ìš´ì˜ì²´ì œì— ë…ë¦½ì ìœ¼ë¡œ HTTP ê¸°ë°˜ í†µì‹ ì„ ì²˜ë¦¬í•  ìˆ˜ ìžˆë„ë¡ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
    - ë©”ëª¨ë¦¬ í• ë‹¹, ë©”ëª¨ë¦¬ í’€ë§, íŒŒì¼ I/O, ë©€í‹°ìŠ¤ë ˆë“œ ê´€ë ¨ ì²˜ë¦¬ ë“±ì— í•„ìš”í•œ ê¸°ëŠ¥ì„ í¬í•¨
- ì™œ ì‚¬ìš©í–ˆì„ê¹Œ?
    - WASì—ì„œ ì²˜ë¦¬í•  ê¸°ëŠ¥ì„ ì›¹ì„œë²„ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìžˆì–´ì„œ WASì˜ ë¶€ë‹´ì„ ì¤„ì´ê¸° ìœ„í•´
    - SSIì—ì„œ ë¶ˆê°€ëŠ¥í•œ ê³ ê¸‰ê¸°ëŠ¥ì„ ì‚¬ìš©
        - ê°„ë‹¨í•œ ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™(ë‹¨ìˆœížˆ API í˜¸ì¶œí•˜ê±°ë‚˜ ê²°ê³¼ê°’ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìžˆì„ ë•Œ ì™¸ë¶€ì‹œìŠ¤í…œ í˜¸ì¶œí•˜ëŠ” ë°©ì‹)
        - ëª¨ë“  WASê°€ ë‹¤ìš´ë˜ë”ë¼ë„ ì›¹ ì„œë²„ë§Œ ì •ìƒì´ë©´ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìžˆê²Œ WASì™€ í†µì‹ 
    - C ì–¸ì–´ ê¸°ë°˜ì´ë¼ ì‹¤í–‰ ì„±ëŠ¥ì´ ì¢‹ìŒ

### ì„œí‚· ë¸Œë ˆì´ì»¤

- ê°œë…
    - ì™¸ë¶€ ì„œë¹„ìŠ¤ì˜ ìž¥ì• ë¡œ ì¸í•œ ì—°ì‡„ì  ìž¥ì•  ì „íŒŒë¥¼ ë§‰ê¸° ìœ„í•´ ìžë™ìœ¼ë¡œ ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ ì—°ê²°ì„ ì°¨ë‹¨ ë° ë³µêµ¬í•˜ëŠ” ì—­í• ì„ í•¨
- ì™œ ë„ìž…í–ˆì„ê¹Œ? ðŸ˜®
    - MSA í™˜ê²½ì—ì„œ failure í™•ìž¥ì„ ë§‰ê¸° ìœ„í•´ ë„ìž…
    - ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì•ˆì •ì„±ê³¼ ìž¥ì•  ì €í•­ë ¥ ë†’ì´ê¸° ìœ„í•´
    - MSA í™˜ê²½ì—ì„œ ë„¤íŠ¸ì›Œí¬ ì¼ì‹œ ë‹¨ì ˆ, íŠ¸ëž˜í”½ í­ì¦ìœ¼ë¡œ ì¸í•œ ê°„í—ì  ì‹œê°„ ì´ˆê³¼ ë“±ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ìž¥ì•  ê·¹ë³µ
- êµ¬í˜„ ë¼ì´ë¸ŒëŸ¬ë¦¬
    - Netfilx OSS Hystrix (ì„œí‚· ë¸Œë ˆì´ì»¤ ë¼ì´ë¸ŒëŸ¬ë¦¬)
    - Spring Cloud Netflix( Neflix OSSë¥¼ Spring Cloud í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìžˆë„ë¡ ëž©í•‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬)


### ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬

- ê°œë…
    - ë™ì ìœ¼ë¡œ ìƒì„±, ì‚­ì œë˜ëŠ” ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ IP ì£¼ì†Œì™€ í¬íŠ¸ë¥¼ ìžë™ìœ¼ë¡œ ì°¾ì•„ ì„¤ì •í•´ì¤Œ
- ì™œ ë„ìž…í–ˆì„ê¹Œ? ðŸ˜®
    - í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ìˆ˜ì‹œë¡œ ì„œë²„ê°€ ì¶”ê°€ë˜ê³  ì‚­ì œë˜ëŠ”ë°, ê·¸ ë•Œë§ˆë‹¤ ë³€ê²½ë˜ëŠ” IPë¥¼ ì°¾ì•„ ì—´ê²°í•˜ê¸° ìœ„í•´
    - Auto Scaling í™˜ê²½ì—ì„œëŠ” í•„ìˆ˜

> ì°¸ê³ 
[https://d2.naver.com/helloworld/6070967](https://d2.naver.com/helloworld/6070967)

[https://goddaehee.tistory.com/173](https://goddaehee.tistory.com/173)